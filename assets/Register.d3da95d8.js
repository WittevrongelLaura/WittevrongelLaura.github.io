import{L as w,u as h,I as y,z as _,k as g,s as x,_ as k,r as d,o as i,c as u,a as e,t as C,b as m,e as I,B as c,C as p,w as L,x as V,f as M}from"./index.8c7fcc53.js";import{L as N}from"./loader-2.0652a3c4.js";import{X as R}from"./x.752848a9.js";import"./createVueComponent.12d7077d.js";const U=w({components:{Loader2:N,X:R},setup(){const{register:t}=h(),{createCustomUser:s}=y(),{replace:f}=_(),l=g(""),a=g(!1),o=x({name:"",email:"",password:""});return{errorMessage:l,loading:a,userInput:o,submitForm:()=>{if(a.value=!0,o.name===""||o.email===""||o.password===""){a.value=!1,l.value="Please fill in all fields.";return}t(o.name,o.email,o.password).then(async r=>(window.Cypress||r.value&&await s(),f("/"))).catch(r=>{l.value=r.message}).finally(()=>{a.value=!1})}}}}),$=e("header",null,[e("h2",{class:"mb-6 text-3xl"},"Register")],-1),B={key:0,class:"mb-3 flex items-center justify-between rounded-md bg-red-100 px-3 py-1"},F={class:"text-sm text-red-600"},X={class:"mb-1 block text-neutral-500 focus-within:text-neutral-900",for:"name"},j=e("span",{class:"mb-2 block"},"Name",-1),A={class:"mt-3"},D={class:"mb-1 block text-neutral-500 focus-within:text-neutral-900",for:"email"},E=e("span",{class:"mb-2 block"},"Email",-1),P={class:"mt-3"},S={class:"mb-1 block text-neutral-500 focus-within:text-neutral-900",for:"password"},T=e("span",{class:"mb-2 block"},"Password",-1),z=["disabled"],q={key:0},G={key:1},H={class:"text-green900 mt-3 text-center text-sm opacity-60"};function J(t,s,f,l,a,o){const b=d("X"),r=d("Loader2"),v=d("RouterLink");return i(),u("div",null,[e("form",{onSubmit:s[4]||(s[4]=V((...n)=>t.submitForm&&t.submitForm(...n),["prevent"]))},[$,t.errorMessage?(i(),u("div",B,[e("p",F,C(t.errorMessage),1),e("button",{onClick:s[0]||(s[0]=n=>t.errorMessage=""),class:"rounded-full p-3 ring-red-600 hover:bg-red-200 focus:outline-none focus:ring-2"},[m(b,{class:"h-4 w-4 text-red-600"})])])):I("",!0),e("div",null,[e("label",X,[j,c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>t.userInput.name=n),id:"name",class:"w-full rounded-md border border-neutral-200 px-3 py-1 text-neutral-800 outline-none ring-neutral-300 focus-visible:ring",type:"text",name:"name",autocomplete:"name","data-cy":"username"},null,512),[[p,t.userInput.name]])])]),e("div",A,[e("label",D,[E,c(e("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>t.userInput.email=n),id:"email",class:"w-full rounded-md border border-neutral-200 px-3 py-1 text-neutral-800 outline-none ring-neutral-300 focus-visible:ring",type:"email",name:"email",autocomplete:"email","data-cy":"email"},null,512),[[p,t.userInput.email]])])]),e("div",P,[e("label",S,[T,c(e("input",{"onUpdate:modelValue":s[3]||(s[3]=n=>t.userInput.password=n),id:"password",class:"w-full rounded-md border border-neutral-200 px-3 py-1 text-neutral-800 outline-none ring-neutral-300 focus-visible:ring",type:"password",name:"password",autocomplete:"current-password","data-cy":"password"},null,512),[[p,t.userInput.password]])])]),e("button",{class:"bg-green700 hover:bg-green900 focus-visible:ring-green900 mt-6 flex w-full items-center justify-center rounded-md py-2 px-3 text-white outline-none ring-neutral-300 focus-visible:ring-1",disabled:t.loading,"data-cy":"register"},[t.loading?(i(),u("div",G,[m(r,{class:"animate-spin"})])):(i(),u("span",q,"Create account"))],8,z),e("p",H,[m(v,{to:"/auth/login",class:"hover:text-green900/100 rounded-md outline-none ring-neutral-300 hover:underline hover:opacity-100 focus-visible:ring"},{default:L(()=>[M(" Already have an account? ")]),_:1})])],32)])}const Y=k(U,[["render",J]]);export{Y as default};
