import{L as b,z as v,u as h,k as c,s as _,_ as w,r as d,o as i,c as l,a as t,t as x,b as m,e as y,B as k,C as L,w as C,x as F,f as M}from"./index.8c7fcc53.js";import{L as V}from"./loader-2.0652a3c4.js";import{X as $}from"./x.752848a9.js";import"./createVueComponent.12d7077d.js";const B=b({components:{Loader2:V,X:$},setup(){const{replace:e}=v(),{forgotPassword:s}=h(),n=c(""),o=c(!1),r=_({email:""});return{errorMessage:n,loading:o,userInput:r,submitForm:()=>{if(o.value=!0,r.email===""){o.value=!1,n.value="Please fill in all fields.";return}s(r.email).then(()=>{o.value=!1,e("/auth/login")}).catch(u=>{o.value=!1,n.value=u.message})}}}}),I=t("header",null,[t("h2",{class:"mb-6 text-3xl"},"Forgot password")],-1),N={key:0,class:"mb-3 flex items-center justify-between rounded-md bg-red-100 px-3 py-1"},P={class:"text-sm text-red-600"},R={class:"mb-1 block text-neutral-500 focus-within:text-neutral-900",for:"email"},S=t("span",{class:"mb-2 block"},"Email",-1),X=["disabled"],j={key:0},D={key:1},E={class:"mt-3 text-center text-green900 opacity-60 text-sm"};function T(e,s,n,o,r,p){const u=d("X"),f=d("Loader2"),g=d("RouterLink");return i(),l("div",null,[t("form",{onSubmit:s[2]||(s[2]=F((...a)=>e.submitForm&&e.submitForm(...a),["prevent"]))},[I,e.errorMessage?(i(),l("div",N,[t("p",P,x(e.errorMessage),1),t("button",{onClick:s[0]||(s[0]=a=>e.errorMessage=""),class:"rounded-full p-3 ring-red-600 hover:bg-red-200 focus:outline-none focus:ring-2"},[m(u,{class:"h-4 w-4 text-red-600"})])])):y("",!0),t("div",null,[t("label",R,[S,k(t("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>e.userInput.email=a),id:"email",class:"w-full rounded-md border border-neutral-200 px-3 py-1 text-neutral-800 outline-none ring-neutral-300 focus-visible:ring",type:"email",name:"email",autocomplete:"email"},null,512),[[L,e.userInput.email]])])]),t("button",{class:"mt-6 flex w-full items-center justify-center rounded-md bg-green700 py-2 px-3 text-white outline-none ring-neutral-300 hover:bg-green900 focus-visible:ring-green900 focus-visible:ring-1",disabled:e.loading},[e.loading?(i(),l("div",D,[m(f,{class:"animate-spin"})])):(i(),l("span",j,"Send password reset link"))],8,X),t("p",E,[m(g,{to:"/auth/login",class:"rounded-md outline-none ring-neutral-300 hover:underline hover:opacity-100 focus-visible:ring"},{default:C(()=>[M(" Wait, I remember my password ")]),_:1})])],32)])}const q=w(B,[["render",T]]);export{q as default};
