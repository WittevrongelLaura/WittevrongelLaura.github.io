import{L as _,z as y,u as x,k as p,s as k,_ as L,r as c,o as i,c as u,a as e,t as C,b as d,e as M,B as f,C as g,w as b,x as V,f as v}from"./index.8c7fcc53.js";import{L as F}from"./loader-2.0652a3c4.js";import{X as I}from"./x.752848a9.js";import"./createVueComponent.12d7077d.js";const $=_({components:{Loader2:F,X:I},setup(){const{replace:t}=y(),{login:s}=x(),a=p(""),r=p(!1),o=k({email:"",password:""});return{errorMessage:a,loading:r,userInput:o,submitForm:()=>{if(r.value=!0,o.email===""||o.password===""){r.value=!1,a.value="Please fill in all fields.";return}s(o.email,o.password).then(l=>t("/")).catch(l=>{a.value=l.message}).finally(()=>{r.value=!1})}}}}),B=e("header",null,[e("h2",{class:"mb-6 text-3xl"},"Login")],-1),N={key:0,class:"mb-3 flex items-center justify-between rounded-md bg-red-100 px-3 py-1"},D={class:"text-sm text-red-600"},R={class:"mb-1 block text-neutral-500 focus-within:text-neutral-900",for:"email"},X=e("span",{class:"mb-2 block"},"Email",-1),j={class:"mt-3"},E={class:"mb-1 block text-neutral-500 focus-within:text-neutral-900",for:"password"},P=e("span",{class:"mb-2 block"},"Password",-1),S={class:"mt-1 text-sm font-normal text-green900 opacity-70"},T=["disabled"],U={key:0},z={key:1},A={class:"mt-3 text-center text-green900 opacity-60 text-sm"};function q(t,s,a,r,o,h){const l=c("X"),m=c("RouterLink"),w=c("Loader2");return i(),u("div",null,[e("form",{onSubmit:s[3]||(s[3]=V((...n)=>t.submitForm&&t.submitForm(...n),["prevent"]))},[B,t.errorMessage?(i(),u("div",N,[e("p",D,C(t.errorMessage),1),e("button",{onClick:s[0]||(s[0]=n=>t.errorMessage=""),class:"rounded-full p-3 ring-red-600 hover:bg-red-200 focus:outline-none focus:ring-2"},[d(l,{class:"h-4 w-4 text-red-600"})])])):M("",!0),e("div",null,[e("label",R,[X,f(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>t.userInput.email=n),id:"email",class:"w-full rounded-md border border-neutral-200 px-3 py-1 text-neutral-800 outline-none ring-neutral-300 focus-visible:ring",type:"email",name:"email",autocomplete:"email","data-cy":"email"},null,512),[[g,t.userInput.email]])])]),e("div",j,[e("label",E,[P,f(e("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>t.userInput.password=n),id:"password",class:"w-full rounded-md border border-neutral-200 px-3 py-1 text-neutral-800 outline-none ring-neutral-300 focus-visible:ring",type:"password",name:"password",autocomplete:"current-password","data-cy":"password"},null,512),[[g,t.userInput.password]])]),e("p",S,[d(m,{class:"rounded-md outline-none ring-neutral-300 hover:underline hover:opacity-100 focus-visible:ring",to:"/auth/forgot-password"},{default:b(()=>[v(" Forgot password? ")]),_:1})])]),e("button",{class:"mt-6 flex w-full items-center justify-center rounded-md bg-green700 py-2 px-3 text-white outline-none ring-neutral-300 hover:bg-green900 focus-visible:ring-green900 focus-visible:ring-1",disabled:t.loading,"data-cy":"login"},[t.loading?(i(),u("div",z,[d(w,{class:"animate-spin"})])):(i(),u("span",U,"Login"))],8,T),e("p",A,[d(m,{to:"/auth/register",class:"rounded-md outline-none ring-neutral-300 hover:underline hover:opacity-100 focus-visible:ring"},{default:b(()=>[v(" Don't have an account yet? ")]),_:1})])],32)])}const O=L($,[["render",q]]);export{O as default};
